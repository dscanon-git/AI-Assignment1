<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <style>
      .frame {
        position: relative;
        width: 612px;
        height: 612px;
        background-color: #bdc3c7;
      }
      .tile {
        position: relative;
        display: block;
        float: left;
        width: 200px;
        height: 200px;
        border-style: solid;
        border-color: black;
        border-width: 2px;
        font-size: 30px;
        text-align: center;
        vertical-align: middle;
        line-height: 204px;
      }
    </style>
  </head>
  <body>


    <!-- playground -->
    <div class="frame">
      <div class="tile" id="pos-0">x</div>
      <div class="tile" id="pos-1">1</div>
      <div class="tile" id="pos-2">2</div>
      <div class="tile" id="pos-3">3</div>
      <div class="tile" id="pos-4">4</div>
      <div class="tile" id="pos-5">5</div>
      <div class="tile" id="pos-6">6</div>
      <div class="tile" id="pos-7">7</div>
      <div class="tile" id="pos-8">8</div
    </div>

    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script type="text/javascript">
      // dummy json
      var dummy_json = '{"init":[1, 3, 2, 0, 4, 7, 6, 5 ,8],"step":[{"tile":"2","move":"d"},{"tile":"3","move":"l"},{"tile":"2","move":"r"}]}';

      $( document ).ready(function() {
          // parse string to json
          info = JSON.parse(dummy_json);
          // test
          console.log(info["init"][0]);
          console.log(info["step"][0]["move"]);
          // initial board game
          for(var i = 0; i < 9; i++){
            $("#pos-"+i).html(info["init"][i]);
            if(info["init"][i] == 0){
              $("#pos-"+i).html("");
            }
            // change id like the initial format
            $("#pos-"+i).attr("id", info["init"][i]);
          }

          // Try to move on step
          var step_arr = info["step"];
          console.log(step_arr.length);
          for(var j = 0;j < step_arr.length;j++){
            console.log('tile : '+info["step"][j]["tile"]+', move: '+info["step"][j]["move"]);
            tile_move(info["step"][j]["tile"], info["step"][j]["move"], j*1100);
          }
      });


      // move position
      function tile_move(id, pos, time_delay){
        switch (pos) {
          case 'r':
            pos = "right";
            opt = "+"
            break;
          case 'l':
            pos = "left"
            opt = "-"
            break;
          case 'u':
            pos = "top";
            opt = "-"
            break;
          case 'd':
            pos = "top";
            opt = "+"
            break;
          default:
        }
        console.log(id+pos);
        var move_params = {};
        move_params[pos] = opt+"=204";
        console.log(time_delay);
        if(time_delay == 0){
          console.log('here : 0');
          $( "#"+id ).animate( move_params, 1000);
        }else{
          $( "#"+id ).delay(time_delay).animate( move_params, 1000);
        }
      }

    </script>
  </body>
</html>
